{
  "hash": "848299dfb09575c96e830d2deba838ad",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Blog 1\"\nauthor: \"Rory Sauereisen\"\ndate: \"2026-02-02\"\ncategories: [epidemiology, code, analysis, mapping]\nimage: \"image.jpg\"\n---\n\n# This post explores Global Adult HIV prevalence data pulled from Kaggle.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nhiv_prevalence <- read_delim(\"hiv_prevalence.csv\", skip = 1,\n                           delim = \";\")  #this takes care of the excel to imported data conversion.\n#Data originally contains a second row of column names, and oddly combines data. \n\n#Further tidying the dataset: \nlibrary(dplyr)\nlibrary(tidyverse)\nhiv_prevalence_clean <- \n  hiv_prevalence |>\n  rename(region = ...1, prevalence = `of HIV/AIDS,`,\n         n_people = `with HIV/AIDS,`, deaths = `from HIV/AIDS,`,\n         datayear = ...5) |>\n  mutate(region = str_replace_all(region, \"\\xa0\", \"\")) |>\n  mutate(prevalence = str_replace_all(prevalence, \"%\", \"\")) |>\n  mutate(prevalence = as.numeric(prevalence)) |>\n  mutate(n_people = str_replace_all(n_people, \",\", \"\")) |>\n  mutate(n_people = as.numeric(n_people)) |>\n  mutate(deaths = str_replace_all(deaths, \",\", \"\")) |>\n  mutate(deaths = as.numeric(deaths)) |>\n  mutate(region = if_else(region == \"United States\",   #to match mapping data later\n                           true = \"USA\", \n                           false = region))\n```\n:::\n\n\n# Introduction\n\nThis dataset contains Global Adult HIV prevalence data pulled from the online data source Kaggle, and contains 187 observations. HIV, or Human Immunodeficiency Virus, is a virus that limits your ability to fight other infections due to its own targeting of your body's immune cells. HIV when left untreated can lead to AIDs, a later stage of the HIV infection that results from said immune system damage. There are current treatments to prolong the lives of those with HIV and limit its further spread, but there are currently no cures available for it.\\\nThis blog will mostly focus on the variables `region` and `prevalence` to visualize the distribution of HIV in the world; answering what region appears to have the highest prevalence while which appears to have the lowest. We'll also be making inferences on what continents appear to have greater or lower HIV prevalence.\\\n \\\n \\\n\n*Dataset Notice:*\\\nUpon examining this data, I have found that the year the data was reported is inconsistent. This data set contains reported data on most regions, however the year associated with that entry isn't uniform across all regions. For example, if I were to limit the observations to only containing those from 2024, my sample size would shrink to only 63 regions to make inferences from. Thus, in the following analyses, to maintain reliable interpretations, the information will be displayed twice. Once in the dataset's totality (ignoring year source), and once sourcing data only from year 2024 to represent up-to-date information. (2024 also happens to be the year with the most data entries from).\\\n\n\n### Dataset Variable Decriptions: \n*region*: The geographical area being analyzed. \\\n*prevalence*: Adult Prevalence (%), Percentage of adults aged 15â€“49 living with HIV.  \\\n*n_people*: Number of People with HIV/AIDS, Absolute count of individuals living with HIV in the region.   \\\n*deaths*: Annual Deaths from HIV/AIDS, Number of deaths attributed to HIV/AIDS annually.  \\\n*datayear*: Year of Estimate, The year when the data was collected or estimated.  \\\n\n# Exploring this data set\n\n## Ranking regional HIV prevalence\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#create subdataset of top 10 HIV prevalence regions in 2024\n# all year data:\nhiv_prevALL_top10 <- \nhiv_prevalence_clean |>\n  arrange(desc(prevalence)) |>\n  slice(1:10) |>\n  mutate(region = fct_reorder(region, prevalence))\n\n#lollipop plot - all data\nggplot(data = hiv_prevALL_top10, aes(x=prevalence, y=region)) +\n  geom_segment(aes(yend = region, x=0, xend = prevalence, color = \"blue3\"), show.legend= FALSE) +\n  geom_point(size = 2) +\n  theme_minimal() +\n  labs(title = \"Data Not Limited by Year\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nThe above lollipop plots display the top 10 regions in this data set that have the highest prevalence of HIV. It appears that the top four regions have HIV prevalence around 24% (Eswatini, Lesotho, Botswana, and Zimbabwe), and have a lead in HIV prevalence by roughly 5% in comparison to the next ranked regions. These are also close in prevalence, hovering around 13% prevalence before the last two ranked regions that are collectively about 3% lower in prevalence. When all the data is held consistent at the same timestamp of year 2024, we see a similar trend:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#2024 data:\nhiv_prev24_top10 <- \nhiv_prevalence_clean |>\n  filter(datayear == \"2024\") |>\n  arrange(desc(prevalence)) |>\n  slice(1:10) |>\n  mutate(region = fct_reorder(region, prevalence))\n\n#lollipop plot - 2024 data\nggplot(data = hiv_prev24_top10, aes(x=prevalence, y=region)) +\n  geom_segment(aes(yend = region, x=0, xend = prevalence, color = \"blue3\"), show.legend= FALSE) +\n  geom_point(size = 2) +\n  theme_minimal() +\n  labs(title = \"Year 2024 limited data\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nThe most notable difference between the collective data on prevalence and the data restricted to year 2024 is in the rankings for 7th through 10th. When year isn't considered, the country that is introduced to this visualization is Zambia instead of Tanzania, taking 7th and bumping Malawi and Equatorial Guinea down a rank. The fact that there isn't much of a shift in HIV prevalence when considering year could suggest that\\\n- A) more heavily HIV affected countries update their data more often, or\\\n- B) Regardless of the data's time stamp, certain regions consistently have a higher prevalence of HIV.\\\n\\\n\\\n\n## Mapping HIV prevalence\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#get drawing coordinates to make world map\nworld_map <- map_data(\"world\") \n\n#join the datasets:\nfull_worldHIV <- left_join(world_map, hiv_prevalence_clean, \n                           join_by(region == region))\n\nggplot(data = full_worldHIV, aes(x = long, y = lat, \n                                 group = group)) +\n  geom_polygon(aes(fill=prevalence)) +\n  scale_fill_viridis_c() +\n  coord_map(projection = \"gilbert\") +\n  xlim(c(-180,180)) +\n  theme_void() +\n  labs(title = \"Global HIV prevalence(%)\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nMapping HIV prevalence to a map of the world gives us further insight as to relative continental prevalence. Based on the map, we can see that the southern part of Africa appears to have higher HIV prevalence compared to other continents of the world. What limits this visualization however, is the greyed out countries showing a lack of data for that region. This is either due to a mismatch in region label when joining the datasets, or a lack of data for that region. The main takeaway is that Southern African regions appear to be the most affected by HIV in their population.\\\n\n# Conclusions\n\n## Flaws\n\n-   My approach to this dataset, as earlier mentioned, is limited by the temporal stamp of the data reported. Although it didn't vastly affect interpretations, it should still be considered when evaluating HIV prevalence.\\\n    \\\n-   The world map visualization of prevalence is missing considerable data, which limits the confidence of my conclusion that Southern Africa is the the most affected by HIV.\\\n    \\\n## Future Directions\n-   Prevalence isn't the only way to visualize the spread and impact of a disease, and in future visualizations the number of people with the disease, as well as deaths from it, should be presented.\\\n    \\\n-   If given more time, I would comb through the region labels and adjust them or confirm that they match the labels within the world_map data set. Making sure the labels align would insure that all the regions in the HIV data set are actually represented in the map.\\\n\n## Connections to Data334\n- Lollipop plot:  This is a good visualization because the line segments all start at 0, so they provide an accurate communal baseline for reader interpretation. The size and color of the lollipops has also been adjusted for aesthetic pleasure. To distinguish between the 2 datasets used, a title above the plot is also utilized, so its easier for the reader to orient themselves. \\\n- Sequential map:  This is a good visualization as the colors are color blind friendly, and there is no background grid or fluff to disorient the viewer. A label at the top clarifies what data is being used, and the color scale is sequential since it best represents the prevalence percentage scale (opposed to diverging or catagorical). One spot of critique would be limiting the greyed out countries, but that is already addressed. A map such as this is also a good visualization for this data, since it allows the reader to further pull ideas about geological hotspots of HIV for the globe, an inference that you couldn't as confidently make out in just the lollipop plot.  \\\n\n# References/Sources:\n\n**Global HIV Data from Kaggle:** \\\nGlobal Adult HIV Prevalance Data (2024 Updated)\\\nhttps://www.kaggle.com/datasets/kanchana1990/global-adult-hiv-prevalance-data-2024-updated    \\\n**Supplementary HIV information:** \\\nhttps://www.hiv.gov/hiv-basics/overview/about-hiv-and-aids/what-are-hiv-and-aids    \\\n**ChatGPT for data cleaning hitch:**\\\n[*My Prompt:* I have a dataset in R studio, where one my columns has observations that are all surrounded by quotations like \"\\xa0Eswatini\". I want to isolate just the region name out of each observation, but attempting to use separate() and listing the xa0 doesn't work. How can I trim the observations, and why doesn't separate() work here?\\]\\\n*AI Solution I chose:* AI suggestion: str_replace_all(). This offered AI solution takes the tidyr package and mutate() solution route. I chose this because I'm already using this package for cleaning and am familiar with mutate().\\\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}